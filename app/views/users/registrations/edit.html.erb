<div class="container">
  <div id="user-edit">
    <h1>プロフィール編集</h1>

    <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
        <%= devise_error_messages! %>

        <div class="row">
          <div class="col-md-4 col-sm-12">
            <div class="form-group row">
              <div class="col-12 text-center margin-bottom">
                <% if current_user.image.present? %>
                    <%= image_tag current_user.image.user_image %>
                <% else %>
                    <%= image_tag '/images/no-image.png' %>
                <% end %>
              </div>
              <div class="col-12 text-center">
                <label>
                <span class="button-green-g px-4">
                  画像を変更する
                  <%= f.file_field :image, placeholder: 'イメージ', id: 'image', style: 'display: none;'%>
                </span>
                </label>
              </div>
            </div>
          </div>
          <div class="col-md-8 col-sm-12">
            <div class="form-group row">
              <label for="name" class="col-md-4 col-xs-12 col-form-label"><i class="fa fa-user fa-1x" aria-hidden="true"></i>ユーザー名</label>
              <div class="col-md-5 col-xs-12">
                <%= f.text_field :name , class: 'form-control', maxlength: '255' %>
              </div>
            </div>

            <div class="form-group row">
              <label for="password" class="col-md-4 col-xs-12 col-form-label"><i class="fa fa-lock fa-1x" aria-hidden="true"></i>パスワード<br><em>(変更しない場合は空白にしてください)</em></label>
              <div class="col-md-5 col-xs-12">
                <%= f.password_field :password, class: 'form-control', maxlength: '65535' %>
                <% if @minimum_password_length %>
                    <em><%= @minimum_password_length %> 文字以上の英数字</em>
                <% end %>
              </div>
            </div>

            <div class="form-group row">
              <label for="password-confirmation" class="col-md-4 col-xs-12 col-form-label"><i class="fa fa-lock fa-1x" aria-hidden="true"></i>パスワード確認</label>
              <div class="col-md-5 col-xs-12">
                <%= f.password_field :password_confirmation, autocomplete: "off", class: 'form-control', maxlength: '65535' %>
              </div>
            </div>

            <div class="form-group row">
              <label for="current-password" class="col-md-4 col-xs-12 col-form-label"><i class="fa fa-lock fa-1x" aria-hidden="true"></i>現在のパスワード<br><em>(変更を確認するために現在のパスワードを入力してください)</em></label>
              <div class="col-md-5 col-xs-12">
                <%= f.password_field :current_password, autocomplete: "off", class: 'form-control', maxlength: '65535' %>
              </div>
            </div>
          </div>
        </div>

        <div class="row justify-content-center mb-3">
          <%= f.submit :編集内容を保存, class: 'button-blue-g px-5' %>
        </div>

    <% end %>

    <div class="row justify-content-center mb-3">
      <%= button_to :アカウントを削除する, registration_path(resource_name), data: { confirm: 'アカウントを削除して本当によろしいですか？' }, method: :delete , class: 'button-red-g pl-3 pr-3' %>
    </div>

    <div class="row justify-content-center mb-3">
      <%= link_to :戻る, :back, class: 'button-green-g pl-3 pr-3' %>
    </div>

  </div>
</div>
<%= render 'footer' %>
