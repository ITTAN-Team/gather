<header>
  <div class="header-logo">
    Gather
  </div>
  <ul class="header-menus">
    <li><%= link_to('イベントを作成', '/events/new')%></li>
    <li><%= link_to('ログアウト', '/users/sign_out')%></li>
  </ul>
</header>


<div class="container">
  <div id="user-edit">
    <h1>プロフィール編集</h1>

    <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
        <%= devise_error_messages! %>

        <div class="row">
          <div class="col-4">
            <div class="form-group row">
              <div class="col-12 text-center">
                <% if current_user.image.present? %>
                    <%= image_tag current_user.image.url %>
                <% end %>
              </div>
              <div class="col-12 text-center">
                <label>
                <span class="button-green-g px-4">
                  画像を変更する
                  <%= f.file_field :image, placeholder: 'イメージ', id: 'image', style: 'display: none;'%>
                </span>
                </label>
              </div>
            </div>
          </div>
          <div class="col-8">
            <div class="form-group row">
              <label for="name" class="col-4 col-form-label"><i class="fa fa-user fa-1x" aria-hidden="true"></i>ユーザー名</label>
              <div class="col-5">
                <%= f.text_field :name , class: 'form-control'%>
              </div>
            </div>

            <div class="form-group row">
              <label for="password" class="col-4 col-form-label"><i class="fa fa-lock fa-1x" aria-hidden="true"></i>パスワード<br><em>(変更しない場合は空白にしてください)</em></label>
              <div class="col-5">
                <%= f.password_field :password, class: 'form-control' %>
                <% if @minimum_password_length %>
                    <em><%= @minimum_password_length %> 文字以上の英数字</em>
                <% end %>
              </div>
            </div>

            <div class="form-group row">
              <label for="password-confirmation" class="col-4 col-form-label"><i class="fa fa-lock fa-1x" aria-hidden="true"></i>パスワード確認</label>
              <div class="col-5">
                <%= f.password_field :password_confirmation, autocomplete: "off", class: 'form-control' %>
              </div>
            </div>

            <div class="form-group row">
              <label for="current-password" class="col-4 col-form-label"><i class="fa fa-lock fa-1x" aria-hidden="true"></i>現在のパスワード<br><em>(変更を確認するために現在のパスワードを入力してください)</em></label>
              <div class="col-5">
                <%= f.password_field :current_password, autocomplete: "off", class: 'form-control' %>
              </div>
            </div>
          </div>
        </div>

        <div class="row justify-content-md-center mb-3">
          <%= f.submit :編集内容を保存, class: 'btn btn-success px-5' %>
        </div>

    <% end %>

    <div class="row justify-content-md-center mb-3">
      <%= button_to :アカウントを削除する, registration_path(resource_name), data: { confirm: 'アカウントを削除して本当によろしいですか？' }, method: :delete , class: 'btn btn-danger px-5' %>
    </div>

    <div class="row justify-content-md-center mb-3">
      <%= link_to :前の画面へ戻る, :back, class: 'button-green-g' %>
    </div>

  </div>
</div>
